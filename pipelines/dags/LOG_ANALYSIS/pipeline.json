{
  "name": "Log_Analysis",
  "description": "Log analysis sample pipeline",
  "variables": [
    {
      "name": "load_group_logs_file",
      "var_type": "string"
    },
    {
      "name": "generated_topics",
      "var_type": "string"
    },
    {
      "name": "parsed_file",
      "var_type": "string"
    },
    {
      "name": "extracted_file",
      "var_type": "string"
    }
  ],
  "tasks": [
    {
      "id": "task1",
      "name": "Load File and Group",
      "type": "jupyternotebook",
      "src": "/home/k/airflow/dags/dags/LOG_ANALYSIS/notebooks/load_group_logs.ipynb",
      "entrypoint": "main",
      "dependencies": [],
      "input": [],
      "output": ["load_group_logs_file"]
    },
    {
      "id": "task2",
      "name": "Generate Topic",
      "type": "pyscript",
      "src": "/home/k/airflow/dags/dags/LOG_ANALYSIS/scripts/llmparser.py",
      "entrypoint": "run_generate_topics",
      "dependencies": ["task1"],
      "input": ["load_group_logs_file"],
      "output": ["generated_topics"]
    },
    {
      "id": "task3",
      "name": "Parse Logs with LLM",
      "type": "pyscript",
      "src": "/home/k/airflow/dags/dags/LOG_ANALYSIS/scripts/llmparser.py",
      "entrypoint": "run_parse_logs_with_llm",
      "dependencies": ["task2"],
      "input": ["generated_topics"],
      "output": ["parsed_file"]
    },
    {
      "id": "task4",
      "name": "Extract Variables",
      "type": "pyscript",
      "src": "/home/k/airflow/dags/dags/LOG_ANALYSIS/scripts/llmparser.py",
      "entrypoint": "run_extract_variables",
      "dependencies": ["task3"],
      "input": ["parsed_file"],
      "output": ["extracted_file"]
    }
  ],
  "schedule": {
    "frequency": "daily",
    "time": "02:00"
  }
}
