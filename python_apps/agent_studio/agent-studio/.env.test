# Test Environment Configuration
# This file is committed to the repo and used in CI/CD.
# It contains SAFE DEFAULT VALUES for testing (no real API keys).
#
# For local development with real services:
# 1. Copy this file: cp .env.test .env.test.local
# 2. Add real API keys to .env.test.local
# 3. .env.test.local is gitignored and won't be committed
#
# The test suite will:
# 1. Load .env.test (this file) - safe defaults
# 2. Load .env.test.local if it exists - your real keys (gitignored)
# 3. Use environment variables if set - CI/CD secrets

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Test database URL - uses same database as dev by default
# Override with TEST_DATABASE_URL to use a separate test database
TEST_DATABASE_URL=postgresql://elevaite:elevaite@localhost:5433/agent_studio_sdk

# Database pool settings for tests (smaller pools for faster tests)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=1800
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis settings for tests - uses DB 1 to avoid conflicts with dev (DB 0)
TEST_REDIS_HOST=localhost
TEST_REDIS_PORT=6379
TEST_REDIS_DB=1
TEST_REDIS_USERNAME=
TEST_REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=5
REDIS_CONNECTION_TIMEOUT=2
REDIS_SOCKET_TIMEOUT=2

# =============================================================================
# AI/LLM API KEYS
# =============================================================================
# OpenAI API Key - tests use mock key by default
# Set TEST_OPENAI_API_KEY to use real API (will incur costs!)
TEST_OPENAI_API_KEY=sk-test-mock-key

# Other LLM providers (optional, tests work without these)
TEST_ANTHROPIC_API_KEY=
TEST_COHERE_API_KEY=
TEST_CO_API_KEY=
TEST_GEMINI_API_KEY=

# =============================================================================
# GOOGLE SERVICES
# =============================================================================
TEST_CX_ID_PERSONAL=
TEST_GOOGLE_API_PERSONAL=

# =============================================================================
# AWS CONFIGURATION (for Bedrock)
# =============================================================================
TEST_AWS_ACCESS_KEY_ID=
TEST_AWS_SECRET_ACCESS_KEY=
TEST_AWS_DEFAULT_REGION=us-east-1

# =============================================================================
# OTHER SERVICES
# =============================================================================
TEST_WEATHER_API_KEY=
TEST_QDRANT_HOST=localhost
TEST_QDRANT_PORT=6333
TEST_QDRANT_API_KEY=

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=test
SQL_ECHO=false
HOST=localhost
PORT=8050

# File upload settings
UPLOAD_DIR=test_uploads
MAX_FILE_SIZE_BYTES=52428800

# Disable external services in tests
OTLP_ENDPOINT=
KUBERNETES_SERVICE_HOST=

# =============================================================================
# NOTES
# =============================================================================
# 1. Most tests use mocked services and don't require real API keys
# 2. Integration tests that need real services will be marked with @pytest.mark.integration
# 3. E2E tests that need real services will be marked with @pytest.mark.e2e
# 4. To run tests with real services, create .env.test.local with real keys
# 5. The test suite will skip tests that require unavailable services

