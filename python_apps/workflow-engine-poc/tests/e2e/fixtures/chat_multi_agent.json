{
  "name": "E2E Chat Multi-Agent",
  "description": "Trigger + two interactive agents with dependencies",
  "steps": [
    {
      "step_id": "trigger",
      "step_type": "trigger",
      "parameters": { "kind": "chat", "need_history": true, "allowed_modalities": ["text"] }
    },
    {
      "step_id": "agent_1",
      "step_type": "agent_execution",
      "dependencies": ["trigger"],
      "config": {
        "agent_name": "Clarifier",
        "system_prompt": "Ask clarifying questions before answering.",
        "query": "{current_message}",
        "multi_turn": true
      }
    },
    {
      "step_id": "agent_2",
      "step_type": "agent_execution",
      "dependencies": ["agent_1"],
      "config": {
        "agent_name": "Analyzer",
        "system_prompt": "Analyze the prior agent's output.",
        "query": "Analyze: {agent_1}",
        "interactive": true,
        "multi_turn": true
      },
      "input_mapping": { "agent_1": "agent_1" }
    }
  ]
}

