# Production Environment Variables Template
# Copy this file to .env.production and fill in the values
# DO NOT commit .env.production to git!

# ============================================================================
# Database Configuration (External PostgreSQL)
# ============================================================================
# Point to your shared PostgreSQL instance
# Format: postgresql://username:password@host:port/database
SQLALCHEMY_DATABASE_URL=postgresql://auth_user:CHANGE_ME_PASSWORD@your-postgres-host:5432/auth_db

# ============================================================================
# Security - CRITICAL: Change these in production!
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_KEY
API_KEY_SECRET=CHANGE_ME_GENERATE_RANDOM_KEY

# Token expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=90
REFRESH_TOKEN_EXPIRE_MINUTES=10080  # 7 days

# API Key algorithm (HS256 or RS256)
API_KEY_ALGORITHM=HS256

# ============================================================================
# Email Configuration (for MFA, password reset)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@yourcompany.com

# ============================================================================
# Application URLs
# ============================================================================
FRONTEND_URL=https://yourapp.com
AUTH_API_PORT=8004

# ============================================================================
# CORS Configuration
# ============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=https://yourapp.com,https://admin.yourapp.com

# ============================================================================
# Multitenancy
# ============================================================================
MULTITENANCY_ENABLED=true
DEFAULT_TENANT=default

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO

# ============================================================================
# OPA Configuration (usually don't need to change these)
# ============================================================================
# OPA_URL is set in docker-compose.prod.yaml to http://opa:8181/v1/data/rbac/allow
# OPA_ENABLED is set to true in docker-compose.prod.yaml
# OPA_TIMEOUT is set to 5.0 in docker-compose.prod.yaml

